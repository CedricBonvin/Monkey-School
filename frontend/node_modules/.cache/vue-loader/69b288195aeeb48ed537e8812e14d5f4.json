{"remainingRequest":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/src/components/page-Inscription/formInscription.vue?vue&type=template&id=32c9d26f&scoped=true&","dependencies":[{"path":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/src/components/page-Inscription/formInscription.vue","mtime":1635718095395},{"path":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/alloMonkey/monkey-school/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkgewogIHZhciBfdm0gPSB0aGlzCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oCiAgcmV0dXJuIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAic2VjdGlvbiBzZWN0aW9uRm9ybXVsYWlyZSIgfSwgWwogICAgX3ZtLl9tKDApLAogICAgX2MoImgzIiwgW192bS5fdigiUGVyc29ubmUgZGUgY29udGFjdCIpXSksCiAgICBfdm0uZGlzcGxheUNvbnRhY3QKICAgICAgPyBfYygiZm9ybSIsIHsgc3RhdGljQ2xhc3M6ICJmb3JtdWxhaXJlIiB9LCBbCiAgICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogInNlY3Rpb25Db250YWN0IiB9LCBbCiAgICAgICAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94SW5wdXQgIiB9LCBbCiAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogInJlcXVpcyIsIGF0dHJzOiB7IGZvcjogIm5vbUNvbnRhY3QiIH0gfSwKICAgICAgICAgICAgICAgIFtfdm0uX3YoIiBOb20gOiIpXQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3Qubm9tQ29udGFjdCwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5jb250YWN0Lm5vbUNvbnRhY3QiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgICAgIGlkOiAibm9tQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJub21Db250YWN0IiwKICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJDYXJyb24iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3Qubm9tQ29udGFjdCB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuY29udGFjdCwKICAgICAgICAgICAgICAgICAgICAgICJub21Db250YWN0IiwKICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBfdm0uZXJyb3Iubm9tQ29udGFjdAogICAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLm5vbUNvbnRhY3QpKQogICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJib3hJbnB1dCAiIH0sIFsKICAgICAgICAgICAgICBfYygKICAgICAgICAgICAgICAgICJsYWJlbCIsCiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAicmVxdWlzIiwgYXR0cnM6IHsgZm9yOiAicHJlbm9tQ29udGFjdCIgfSB9LAogICAgICAgICAgICAgICAgW192bS5fdigiIFByw6lub20gOiIpXQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QucHJlbm9tQ29udGFjdCwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5jb250YWN0LnByZW5vbUNvbnRhY3QiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgICAgIGlkOiAicHJlbm9tQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJwcmVub21Db250YWN0IiwKICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJDYXJyb24iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QucHJlbm9tQ29udGFjdCB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuY29udGFjdCwKICAgICAgICAgICAgICAgICAgICAgICJwcmVub21Db250YWN0IiwKICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBfdm0uZXJyb3IucHJlbm9tQ29udGFjdAogICAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnByZW5vbUNvbnRhY3QpKQogICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJib3hOcGFWaWxsZSIgfSwgWwogICAgICAgICAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiIG5wYSAiIH0sIFsKICAgICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAicmVxdWlzIiwgYXR0cnM6IHsgZm9yOiAibnBhQ29udGFjdCIgfSB9LAogICAgICAgICAgICAgICAgICBbX3ZtLl92KCIgTlBBIDoiKV0KICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QubnBhQ29udGFjdCwKICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmNvbnRhY3QubnBhQ29udGFjdCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICAgICAgICAgIGlkOiAibnBhQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm5wYUNvbnRhY3QiLAogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiMzk2MyIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QubnBhQ29udGFjdCB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5jb250YWN0LAogICAgICAgICAgICAgICAgICAgICAgICAibnBhQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgX3ZtLmVycm9yLm5wYUNvbnRhY3QKICAgICAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IubnBhQ29udGFjdCkpCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAidmlsbGUgIiB9LCBbCiAgICAgICAgICAgICAgICBfYygKICAgICAgICAgICAgICAgICAgImxhYmVsIiwKICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogInJlcXVpcyIsIGF0dHJzOiB7IGZvcjogInZpbGxlQ29udGFjdCIgfSB9LAogICAgICAgICAgICAgICAgICBbX3ZtLl92KCIgVmlsbGUgOiIpXQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuY29udGFjdC52aWxsZUNvbnRhY3QsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5jb250YWN0LnZpbGxlQ29udGFjdCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICAgICAgICAgIGlkOiAidmlsbGVDb250YWN0IiwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAidmlsbGVDb250YWN0IiwKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogIkNyYW5zLU1vbnRhbmEiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5jb250YWN0LnZpbGxlQ29udGFjdCB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5jb250YWN0LAogICAgICAgICAgICAgICAgICAgICAgICAidmlsbGVDb250YWN0IiwKICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfdm0uZXJyb3IudmlsbGVDb250YWN0CiAgICAgICAgICAgICAgICAgID8gX2MoInAiLCB7IHN0YXRpY0NsYXNzOiAiZXJyb3IiIH0sIFsKICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnZpbGxlQ29udGFjdCkpCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICAgIF0pCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImJveElucHV0ICIgfSwgWwogICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgImxhYmVsIiwKICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMiLCBhdHRyczogeyBmb3I6ICJhZHJlc3NlQ29udGFjdCIgfSB9LAogICAgICAgICAgICAgICAgW192bS5fdigiIEFkcmVzc2UgOiIpXQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QuYWRyZXNzZUNvbnRhY3QsCiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogImZvcm11bGFpcmUuY29udGFjdC5hZHJlc3NlQ29udGFjdCIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgICAgICAgaWQ6ICJhZHJlc3NlQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJhZHJlc3NlIiwKICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJSdWUgZGUgbGEgc29pZiAyNyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuY29udGFjdC5hZHJlc3NlQ29udGFjdCB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuY29udGFjdCwKICAgICAgICAgICAgICAgICAgICAgICJhZHJlc3NlQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX3ZtLmVycm9yLmFkcmVzc2VDb250YWN0CiAgICAgICAgICAgICAgICA/IF9jKCJwIiwgeyBzdGF0aWNDbGFzczogImVycm9yIiB9LCBbCiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuYWRyZXNzZUNvbnRhY3QpKQogICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJib3hJbnB1dCIgfSwgWwogICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgImxhYmVsIiwKICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMiLCBhdHRyczogeyBmb3I6ICJwaG9uZUNvbnRhY3QiIH0gfSwKICAgICAgICAgICAgICAgIFtfdm0uX3YoIiBUw6lsw6lwaG9ubmUgOiIpXQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QucGhvbmVDb250YWN0LAogICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmNvbnRhY3QucGhvbmVDb250YWN0IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogInRlbCIsCiAgICAgICAgICAgICAgICAgIGlkOiAicGhvbmVDb250YWN0IiwKICAgICAgICAgICAgICAgICAgbmFtZTogInBob25lQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiMDA0MSA3OSAzMTIgMzQgMjciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QucGhvbmVDb250YWN0IH0sCiAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5jb250YWN0LAogICAgICAgICAgICAgICAgICAgICAgInBob25lQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX3ZtLmVycm9yLnBob25lQ29udGFjdAogICAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnBob25lQ29udGFjdCkpCiAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICA6IF92bS5fZSgpCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImJveElucHV0IiB9LCBbCiAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogInJlcXVpcyIsIGF0dHJzOiB7IGZvcjogIm1haWxDb250YWN0ICIgfSB9LAogICAgICAgICAgICAgICAgW192bS5fdigiIEUtbWFpbCA6IildCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuY29udGFjdC5tYWlsQ29udGFjdCwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5jb250YWN0Lm1haWxDb250YWN0IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVtYWlsIiwKICAgICAgICAgICAgICAgICAgaWQ6ICJtYWlsQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJtYWlsQ29udGFjdCIsCiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAibW9uLU1haWxAaG9zdC5jb20iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmNvbnRhY3QubWFpbENvbnRhY3QgfSwKICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtdWxhaXJlLmNvbnRhY3QsCiAgICAgICAgICAgICAgICAgICAgICAibWFpbENvbnRhY3QiLAogICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIF92bS5lcnJvci5tYWlsQ29udGFjdAogICAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLm1haWxDb250YWN0KSkKICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICAgICAgXSkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgOiBfdm0uX2UoKSwKICAgIF9jKCJoMyIsIFtfdm0uX3YoIkVsw6h2ZSIpXSksCiAgICBfYygiZm9ybSIsIHsgc3RhdGljQ2xhc3M6ICJmb3JtdWxhaXJlIiB9LCBbCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94TGFiZWxBbmRJbnB1dCIgfSwgWwogICAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94SW5wdXQgIiB9LCBbCiAgICAgICAgICBfYygibGFiZWwiLCB7IGF0dHJzOiB7IGZvcjogImVsZXZlIiB9IH0sIFtfdm0uX3YoIiBDb3VycyA6IildKSwKICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogInRleHQiLCBpZDogImVsZXZlIiwgbmFtZTogImVsZXZlIiwgZGlzYWJsZWQ6ICIiIH0sCiAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMubm9tQ291cnMgfQogICAgICAgICAgfSkKICAgICAgICBdKSwKICAgICAgICBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMudHlwZUNvdXJzID09PSAiRXZlbnQiCiAgICAgICAgICA/IF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiIGNvbnRhaW5lck5vZWwiIH0sIFsKICAgICAgICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogInBhcmFDaG9pc2lyRGF0ZSIgfSwgWwogICAgICAgICAgICAgICAgX3ZtLl92KCJDaG9pc2lzc2V6IHZvcyBkYXRlcyA6ICIpLAogICAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAgICJzcGFuIiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiYWZmaWNoZURhdGVOb2VsIiwKICAgICAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmFmZmljaGVEYXRlTm9lbCB9CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIFtfdm0uX3YoImFmZmljaGVyIildCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgX3ZtLmVycm9yLmRhdGVOb2VsCiAgICAgICAgICAgICAgICAgID8gX2MoInAiLCB7IHN0YXRpY0NsYXNzOiAiZXJyb3IiIH0sIFsKICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLmRhdGVOb2VsKSkKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICA6IF92bS5fZSgpCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgX3ZtLmRpc3BsYXlEYXRlTm9lbAogICAgICAgICAgICAgICAgPyBfYygKICAgICAgICAgICAgICAgICAgICAiZGl2IiwKICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAiYm94Tm9lbCIgfSwKICAgICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLmNob2ljZURhdGVDb3VycywgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICAgICAgICBkYXRlCiAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoImRpdiIsIHsga2V5OiBkYXRlLmlkIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGF0ZSkgPCBEYXRlLm5vdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRpdiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImxpZ25lSW5wdXROb2VsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogZGF0ZSB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogIm5vZWxJbnB1dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiAiY2hlY2tib3giLCBkaXNhYmxlZDogIiIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBkYXRlIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYygicyIsIHsgYXR0cnM6IHsgZm9yOiBkYXRlIH0gfSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZyLUZSIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vla2RheTogImxvbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGRhdGUpID4gRGF0ZS5ub3coKQogICAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkaXYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICJsaWduZUlucHV0Tm9lbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IGRhdGUgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMuZGF0ZUNob2lzaWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmb3JtdWxhaXJlLmluZm9Db3Vycy5kYXRlQ2hvaXNpZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAibm9lbElucHV0IGFsbERhdGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogImNoZWNrYm94IiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IEFycmF5LmlzQXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLmRhdGVDaG9pc2llCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF92bS5faSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLmRhdGVDaG9pc2llLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApID4gLTEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5kYXRlQ2hvaXNpZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICQkYSA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5kYXRlQ2hvaXNpZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkZWwgPSAkZXZlbnQudGFyZ2V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCRjID0gJCRlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoJCRhKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICQkdiA9IGRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkaSA9IF92bS5faSgkJGEsICQkdikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkJGVsLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCRpIDwgMCAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhdGVDaG9pc2llIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkYS5jb25jYXQoWyQkdl0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCRpID4gLTEgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtdWxhaXJlLmluZm9Db3VycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRlQ2hvaXNpZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsICQkaSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdCgkJGEuc2xpY2UoJCRpICsgMSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0ZUNob2lzaWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJGMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsYWJlbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAibGFiZWxEYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZm9yOiBkYXRlIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0xvY2FsZURhdGVTdHJpbmcoImZyLUZSIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5OiAibG9uZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSArICIgIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzcGFuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJuYnJDb3Vyc1Jlc3RhbnQgdmFsaWREYXRlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdigiOCIpXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3BhbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAidGV4dFBsYWNlUmVzdGFudCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoIiBwbGFjZSByZXN0YW50ZS9zIildCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICAgICAgXSkKICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLm5vbUNvdXJzID09PSAiTWluaS1TcGlkZXIiIHx8CiAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLm5vbUNvdXJzID09PSAiR2Vja28iIHx8CiAgICAgICAgX3ZtLmZvcm11bGFpcmUuaW5mb0NvdXJzLm5vbUNvdXJzID09PSAiTW9ua2V5IiB8fAogICAgICAgIF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5ub21Db3VycyA9PT0gIkJpZy1Nb25rZXkiCiAgICAgICAgICA/IF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94SW5wdXQgYm94QWdlIiB9LCBbCiAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogInJlcXVpcyBsYWJlbEFnZSIsIGF0dHJzOiB7IGZvcjogImFnZSAiIH0gfSwKICAgICAgICAgICAgICAgIFtfdm0uX3YoIiBBZ2UgOiIpXQogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAic2VsZWN0IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuZWxldmUuYWdlRWxldmUsCiAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5lbGV2ZS5hZ2VFbGV2ZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IG5hbWU6ICJhZ2UiLCBpZDogImFnZSIgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucywgZnVuY3Rpb24obykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnNlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obykgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSAiX3ZhbHVlIiBpbiBvID8gby5fdmFsdWUgOiBvLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtdWxhaXJlLmVsZXZlLAogICAgICAgICAgICAgICAgICAgICAgICAiYWdlRWxldmUiLAogICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0Lm11bHRpcGxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkJHNlbGVjdGVkVmFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAkJHNlbGVjdGVkVmFsWzBdCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5hZ2VDb3VycywgZnVuY3Rpb24oYWdlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICAgICAib3B0aW9uIiwKICAgICAgICAgICAgICAgICAgICB7IGtleTogYWdlLmlkLCBkb21Qcm9wczogeyB2YWx1ZTogYWdlIH0gfSwKICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyhhZ2UpKV0KICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBfdm0uZXJyb3IuYWdlRWxldmUKICAgICAgICAgICAgICAgID8gX2MoInAiLCB7IHN0YXRpY0NsYXNzOiAiZXJyb3IiIH0sIFsKICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5hZ2VFbGV2ZSkpCiAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICA6IF92bS5fZSgpCiAgICAgICAgICAgIF0pCiAgICAgICAgICA6IF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94SW5wdXQgICIgfSwgWwogICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgImxhYmVsIiwKICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMgbGFiZWxBZ2UiLCBhdHRyczogeyBmb3I6ICJhZ2UgIiB9IH0sCiAgICAgICAgICAgICAgICBbX3ZtLl92KCIgQWdlIDoiKV0KICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5hZ2VFbGV2ZSwKICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5lbGV2ZS5hZ2VFbGV2ZSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaW5wdXRBZ2UiLAogICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogInRleHQiLCBwbGFjZWhvbGRlcjogIjI1IiB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmVsZXZlLmFnZUVsZXZlIH0sCiAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5lbGV2ZSwKICAgICAgICAgICAgICAgICAgICAgICJhZ2VFbGV2ZSIsCiAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgX3ZtLmVycm9yLmFnZUVsZXZlCiAgICAgICAgICAgICAgICA/IF9jKCJwIiwgeyBzdGF0aWNDbGFzczogImVycm9yIiB9LCBbCiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuYWdlRWxldmUpKQogICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgICBdKSwKICAgICAgICBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMudHlwZUNvdXJzID09PSAiaW5pdGlhdGlvbiIgfHwKICAgICAgICBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMudHlwZUNvdXJzID09PSAiYXV0b25vbWllIgogICAgICAgICAgPyBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImJveElucHV0IiB9LCBbCiAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogInJlcXVpcyIsIGF0dHJzOiB7IGZvcjogInNlbGVjdENvdXJzIiB9IH0sCiAgICAgICAgICAgICAgICBbX3ZtLl92KCJEYXRlIGR1IGNvdXJzIDoiKV0KICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgInNlbGVjdCIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5kYXRlQ2hvaXNpZSwKICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmluZm9Db3Vycy5kYXRlQ2hvaXNpZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IG5hbWU6ICJzZWxlY3RDb3VycyIsIGlkOiAic2VsZWN0Q291cnMiIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciAkJHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlcgogICAgICAgICAgICAgICAgICAgICAgICAuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsIGZ1bmN0aW9uKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5zZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gIl92YWx1ZSIgaW4gbyA/IG8uX3ZhbHVlIDogby52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5pbmZvQ291cnMsCiAgICAgICAgICAgICAgICAgICAgICAgICJkYXRlQ2hvaXNpZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQubXVsdGlwbGUKICAgICAgICAgICAgICAgICAgICAgICAgICA/ICQkc2VsZWN0ZWRWYWwKICAgICAgICAgICAgICAgICAgICAgICAgICA6ICQkc2VsZWN0ZWRWYWxbMF0KICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJvcHRpb24iKSwKICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5mb3JtdWxhaXJlLmluZm9Db3Vycy5jaG9pY2VEYXRlQ291cnMsIGZ1bmN0aW9uKAogICAgICAgICAgICAgICAgICAgIGRhdGUKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgICAgICAgIm9wdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICB7IGtleTogZGF0ZS5ub21Db3VycywgZG9tUHJvcHM6IHsgdmFsdWU6IGRhdGUgfSB9LAogICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCJmci1GUiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vla2RheTogImxvbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICkgKyAiICIKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAyCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBfdm0uZXJyb3IuY2hvaWNlRGF0ZUNvdXJzCiAgICAgICAgICAgICAgICA/IF9jKCJwIiwgeyBzdGF0aWNDbGFzczogImVycm9yIiB9LCBbCiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuY2hvaWNlRGF0ZUNvdXJzKSkKICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICAgICAgXSkKICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJib3hJbnB1dCAiIH0sIFsKICAgICAgICAgIF9jKCJsYWJlbCIsIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMiLCBhdHRyczogeyBmb3I6ICJub21FbGV2ZSIgfSB9LCBbCiAgICAgICAgICAgIF92bS5fdigiIE5vbSA6IikKICAgICAgICAgIF0pLAogICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5ub21FbGV2ZSwKICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmVsZXZlLm5vbUVsZXZlIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgaWQ6ICJub21FbGV2ZSIsCiAgICAgICAgICAgICAgbmFtZTogIm5vbUVsZXZlIiwKICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogIkNhcnJvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmVsZXZlLm5vbUVsZXZlIH0sCiAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmZvcm11bGFpcmUuZWxldmUsICJub21FbGV2ZSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KSwKICAgICAgICAgIF92bS5lcnJvci5ub21FbGV2ZQogICAgICAgICAgICA/IF9jKCJwIiwgeyBzdGF0aWNDbGFzczogImVycm9yIiB9LCBbCiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5ub21FbGV2ZSkpCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgIF0pLAogICAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAiYm94SW5wdXQiIH0sIFsKICAgICAgICAgIF9jKAogICAgICAgICAgICAibGFiZWwiLAogICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAicmVxdWlzIiwgYXR0cnM6IHsgZm9yOiAicHJlbm9tRWxldmUgIiB9IH0sCiAgICAgICAgICAgIFtfdm0uX3YoIiBQcsOpbm9tIDoiKV0KICAgICAgICAgICksCiAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmVsZXZlLnByZW5vbUVsZXZlLAogICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogImZvcm11bGFpcmUuZWxldmUucHJlbm9tRWxldmUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgICBpZDogInByZW5vbUVsZXZlIiwKICAgICAgICAgICAgICBuYW1lOiAicHJlbm9tRWxldmUiLAogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiTG91aXMiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5wcmVub21FbGV2ZSB9LAogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICBfdm0uZm9ybXVsYWlyZS5lbGV2ZSwKICAgICAgICAgICAgICAgICAgInByZW5vbUVsZXZlIiwKICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSksCiAgICAgICAgICBfdm0uZXJyb3IucHJlbm9tRWxldmUKICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IucHJlbm9tRWxldmUpKQogICAgICAgICAgICAgIF0pCiAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICBdKSwKICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImJveE5wYVZpbGxlIiB9LCBbCiAgICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogIiBucGEgIiB9LCBbCiAgICAgICAgICAgIF9jKCJsYWJlbCIsIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMiLCBhdHRyczogeyBmb3I6ICJucGFFbGV2ZSIgfSB9LCBbCiAgICAgICAgICAgICAgX3ZtLl92KCIgTlBBIDoiKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgX2MoImlucHV0IiwgewogICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgICAgICAgICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuZWxldmUubnBhRWxldmUsCiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmVsZXZlLm5wYUVsZXZlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgICAgIGlkOiAibnBhRWxldmUiLAogICAgICAgICAgICAgICAgbmFtZTogIm5wYUVsZXZlIiwKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiMzk2MyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5ucGFFbGV2ZSB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF92bS4kc2V0KAogICAgICAgICAgICAgICAgICAgIF92bS5mb3JtdWxhaXJlLmVsZXZlLAogICAgICAgICAgICAgICAgICAgICJucGFFbGV2ZSIsCiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSwKICAgICAgICAgICAgX3ZtLmVycm9yLm5wYUVsZXZlCiAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5ucGFFbGV2ZSkpCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICAgIF0pLAogICAgICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJ2aWxsZSAiIH0sIFsKICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgImxhYmVsIiwKICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiAicmVxdWlzIiwgYXR0cnM6IHsgZm9yOiAidmlsbGVFbGV2ZSIgfSB9LAogICAgICAgICAgICAgIFtfdm0uX3YoIiBWaWxsZSA6IildCiAgICAgICAgICAgICksCiAgICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICAgIHJhd05hbWU6ICJ2LW1vZGVsIiwKICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtdWxhaXJlLmVsZXZlLnZpbGxlRWxldmUsCiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICJmb3JtdWxhaXJlLmVsZXZlLnZpbGxlRWxldmUiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICAgICAgaWQ6ICJ2aWxsZUVsZXZlIiwKICAgICAgICAgICAgICAgIG5hbWU6ICJ2aWxsZUVsZXZlIiwKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiQ3JhbnMtTW9udGFuYSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS52aWxsZUVsZXZlIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoCiAgICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuZWxldmUsCiAgICAgICAgICAgICAgICAgICAgInZpbGxlRWxldmUiLAogICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWUKICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF92bS5lcnJvci52aWxsZUVsZXZlCiAgICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci52aWxsZUVsZXZlKSkKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgOiBfdm0uX2UoKQogICAgICAgICAgXSkKICAgICAgICBdKSwKICAgICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImJveElucHV0ICIgfSwgWwogICAgICAgICAgX2MoCiAgICAgICAgICAgICJsYWJlbCIsCiAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJyZXF1aXMiLCBhdHRyczogeyBmb3I6ICJhZHJlc3NlRWxldmUiIH0gfSwKICAgICAgICAgICAgW192bS5fdigiIEFkcmVzc2UgOiIpXQogICAgICAgICAgKSwKICAgICAgICAgIF9jKCJpbnB1dCIsIHsKICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJtb2RlbCIsCiAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuZWxldmUuYWRyZXNzZUVsZXZlLAogICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogImZvcm11bGFpcmUuZWxldmUuYWRyZXNzZUVsZXZlIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgaWQ6ICJhZHJlc3NlRWxldmUiLAogICAgICAgICAgICAgIG5hbWU6ICJhZHJlc3NlRWxldmUiLAogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiUnVlIGRlIGxhIHNvaWYgMjciCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5hZHJlc3NlRWxldmUgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdm0uJHNldCgKICAgICAgICAgICAgICAgICAgX3ZtLmZvcm11bGFpcmUuZWxldmUsCiAgICAgICAgICAgICAgICAgICJhZHJlc3NlRWxldmUiLAogICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KSwKICAgICAgICAgIF92bS5lcnJvci5hZHJlc3NlRWxldmUKICAgICAgICAgICAgPyBfYygicCIsIHsgc3RhdGljQ2xhc3M6ICJlcnJvciIgfSwgWwogICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuYWRyZXNzZUVsZXZlKSkKICAgICAgICAgICAgICBdKQogICAgICAgICAgICA6IF92bS5fZSgpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKAogICAgICAgICJsYWJlbCIsCiAgICAgICAgeyBzdGF0aWNDbGFzczogImxhYmVsUmVtYXJxdWUiLCBhdHRyczogeyBmb3I6ICJyZW1hcnF1ZUVsZXZlIiB9IH0sCiAgICAgICAgW192bS5fdigiUmVtYXJxdWUgOiIpXQogICAgICApLAogICAgICBfYygidGV4dGFyZWEiLCB7CiAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybXVsYWlyZS5lbGV2ZS5yZW1hcnF1ZUVsZXZlLAogICAgICAgICAgICBleHByZXNzaW9uOiAiZm9ybXVsYWlyZS5lbGV2ZS5yZW1hcnF1ZUVsZXZlIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIG5hbWU6ICJyZW1hcnF1ZUVsZXZlIiwKICAgICAgICAgIGlkOiAicmVtYXJxdWVFbGV2ZSIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIlZvdHJlIG1lc3NhZ2UgOiAiCiAgICAgICAgfSwKICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm11bGFpcmUuZWxldmUucmVtYXJxdWVFbGV2ZSB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgewogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtdWxhaXJlLmVsZXZlLCAicmVtYXJxdWVFbGV2ZSIsICRldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSwKICAgICAgX3ZtLmVycm9yLmZvcm0KICAgICAgICA/IF9jKCJwIiwgeyBzdGF0aWNDbGFzczogImVycm9yRm9ybSIgfSwgWwogICAgICAgICAgICBfdm0uX3YoIiEgVmV1aWxsZXogdsOpcmlmaWVyIGxlcyBkb25uw6llcyBkdSBmb3JtdWxhaXJlLiEiKQogICAgICAgICAgXSkKICAgICAgICA6IF92bS5fZSgpLAogICAgICBfYygKICAgICAgICAiZGl2IiwKICAgICAgICB7IHN0YXRpY0NsYXNzOiAiYm94YnV0b24iIH0sCiAgICAgICAgWwogICAgICAgICAgX2MoCiAgICAgICAgICAgICJyb3V0ZXItbGluayIsCiAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJidXR0b25GdWxsIGdvQ291cnMiLCBhdHRyczogeyB0bzogIi9jb3VycyIgfSB9LAogICAgICAgICAgICBbX3ZtLl92KCJSRVRPVVIgQVVYIENPVVJTLi4iKV0KICAgICAgICAgICksCiAgICAgICAgICBfYygKICAgICAgICAgICAgImJ1dHRvbiIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImJ1dHRvbkZ1bGwgdmFsaWQiLAogICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiAic2VuZEluZm8iIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zZW5kKCRldmVudCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFtfdm0uX3YoIiBDT05GSVJNRVIiKV0KICAgICAgICAgICkKICAgICAgICBdLAogICAgICAgIDEKICAgICAgKQogICAgXSkKICBdKQp9CnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbCiAgZnVuY3Rpb24oKSB7CiAgICB2YXIgX3ZtID0gdGhpcwogICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2gKICAgIHJldHVybiBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogInRpdGxlRm9ybSIgfSwgWwogICAgICBfYygiaSIsIHsgc3RhdGljQ2xhc3M6ICJmYXMgZmEtcGVuY2lsLWFsdCIgfSksCiAgICAgIF9jKCJoMiIsIFtfdm0uX3YoIkluc2NyaXB0aW9uIildKQogICAgXSkKICB9Cl0KcmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlCgpleHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9"}]}