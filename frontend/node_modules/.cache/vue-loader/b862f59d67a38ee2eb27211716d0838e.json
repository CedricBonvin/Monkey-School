{"remainingRequest":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/src/views/livre.vue?vue&type=style&index=0&id=2e9ceee2&scoped=true&lang=css&","dependencies":[{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/src/views/livre.vue","mtime":1637308281534},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1haW57CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1mbG93OiB3cmFwOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7CiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgIHBhZGRpbmc6IDAgMjBweCA1MHB4IDIwcHgKfQouc2VjdGlvbnsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tdG9wOiAwOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHdpZHRoOiAxMDAlOwogICAgbWF4LXdpZHRoOiA1MDBweDsKfQoudGl0bGVGb3JtewogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC1zaXplOiBjYWxjKDE2cHggKyAzdncpOwp9Cml7CiAgICBjb2xvcjp2YXIoLS1jb2xvci1wcmltYXJ5KTsKfQouY2FydGV7CiAgICB3aWR0aDogODAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIG1hcmdpbjogYXV0bzsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMzBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJveC1zaGFkb3c6IDEwcHggMTBweCAwcHggMHB4IHJnYig2OCwgNjgsIDY4KTsKfQoucGxhaXNpcnsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGZvbnQtc2l6ZTogMjBweDsKICAgIHBhZGRpbmctdG9wOiAyMHB4Owp9CmZvcm17CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIGJhY2tncm91bmQ6IGxpZ2h0Z3JheTsKICAgIHBhZGRpbmc6IDVweCAwOwp9Ci50aXRsZUVudm95ZXJ7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIGNvbG9yOiBncmF5OwogICAgcGFkZGluZzogNTBweCAwOwogICAgbWFyZ2luLXRvcDogLTQwcHg7CiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgICBmb250LXNpemU6IGNhbGMoMTZweCArIDJ2dyk7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiAuM3M7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4Owp9Ci5jbGlxdWVJY2l7CiAgICBjb2xvcjogYmx1ZTsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9CmlucHV0ewogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgYm9yZGVyIDogbm9uZTsKICAgIHBhZGRpbmc6IDNweDsKfQoKdGV4dGFyZWF7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KCmgyewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZy1ib3R0b206IDVweDsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBmb250LXNpemU6IDMwcHg7CiAgICBwYWRkaW5nLWJvdHRvbTogMTBweCAhaW1wb3J0YW50OwoKfQpsYWJlbHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9Ci5yb3d7CiAgCiAgICBtYXJnaW46IDIwcHg7Cn0KI21lc3NhZ2V7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwcHg7Cn0KLmVycm9yewogICAgY29sb3I6IHJlZDsKfQouYm94TWVzc2FnZXsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7IAogICAgd2lkdGg6IDEwMCU7CiAgICBtYXJnaW4tdG9wOiA1MHB4OwogICAgbWF4LXdpZHRoOiA2MDBweDsKfQouYm94TWVzc2FnZSBoMnsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIG1hcmdpbjogYXV0bzsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLmJveE1lc3NhZ2V0aXRsZXsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouYm94U2Nyb2xsewogICAgaGVpZ2h0OiA0MDBweDsKICAgIG92ZXJmbG93OiBzY3JvbGw7CiAgICBiYWNrZ3JvdW5kOiBsaWdodGdyYXk7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBtYXJnaW46IGF1dG87CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9Ci5jYXB0Y2hhewogICAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci5idXR0b25GdWxsewogICAgZm9udC1zaXplOiAyMHB4OwogICAgcGFkZGluZyA6IDEwcHggMjBweAp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA5MDBweCl7CiAgICAuc2VjdGlvbnsKICAgICAgICB3aWR0aDogMzUlOwogICAgICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB9CiAgICAuYm94TWVzc2FnZXsKICAgICAgICB3aWR0aDogNTUlOwogICAgICAgIG1hcmdpbi10b3A6IDA7CiAgICAgICAgbWF4LXdpZHRoOiA2MDBweDsKICAgIH0KfQo="},{"version":3,"sources":["livre.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"livre.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div >\n        <modal \n            @close-modal=\"closeModale\"\n            v-if=\"displayModal\"\n            :text=\"modalText\"\n        />\n        <Header\n            class=\"test\"\n            title=\"Livre d'or..!\"\n            :image=\"require('@/assets/images/header-Contact.png')\"\n        />\n        <!--****************-->\n        <!-- carte sous header -->\n        <!--****************-->\n        <div class=\"carte\">\n            <h3>Vous avez aimé nos cours... !!</h3>\n            <p>Partagez-nous votre ressenti et laissez-nous un petit message. <br> <span class=\"plaisir\">a fait toujours plaisir !!</span></p>\n        </div>\n      \n        <!--****************-->\n        <!-- form Message -->\n        <!--****************-->       \n        <div class=\"main\">  \n            <div class=\"section\">\n                <h2 id=\"boxMessage\" class=\"underLine\">Un petit bonjour..!</h2>\n                <i class=\"fas fa-user-edit\"></i>\n                <form>\n                    <div class=\"row\">\n                        <label for=\"nom\">Nom :</label>\n                        <input type=\"text\" name=\"nom\" id=\"nom\">\n                        <p class=\"error\" v-if=\"error.nom\"> {{ error.nom }}</p>\n                    </div>\n        \n                    <div class=\"row\">\n                        <label for=\"message\"> Message :</label>\n                        <textarea type=\"text\" name=\"message\" id=\"message\" placeholder=\"Entrez votre message\"></textarea>\n                        <p class=\"error\" v-if=\"error.message\"> {{ error.message }}</p>\n                    </div>\n                    <a href=\"#merciMessage\">\n                        <button @click=\"send($event)\" class=\"buttonFull\">Envoyer</button>\n                    </a>\n                    <!-- captcha -->\n                    <div class=\"captcha\">\n                        <captcha                     \n                            :captcha=\"captcha\"\n                        />\n                    </div>\n                </form>\n            </div>\n            \n                <!---------------- -->\n                <!-- MESSAGE RECU -->\n                <!-- ---------------->\n            <div class=\"boxMessage\">\n                 <div class=\"boxMessagetitle\">\n                     <h2 id=\"merciMessage\" class=\"underLine\">Merci pour vos messages !</h2>\n                 </div>\n                 <i class=\"far fa-comment-dots\"></i>\n                <div class=\"boxScroll\">\n                    <message-recu\n                      :tabMessage=\"tabMessage\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Captcha from '../components/forAll/captcha.vue'\nimport Header from '../components/forAll/header.vue'\nimport Modal from '../components/forAll/modal.vue'\nimport MessageRecu from '../components/pageLivre/messageRecu.vue'\nexport default {\n    name : \"livreOr\",\n    components : { Header, MessageRecu, Modal, Captcha },\n    data(){\n        return {\n            displayBox : false,\n            error : {\n                nom : \"\",\n                message : \"\"\n            },\n            validForm : false,\n            tabMessage : [],\n            modalText : \"\",\n            displayModal : false,\n            captcha : {\n                nbr1 : Math.floor(Math.random() * (10 - 1 + 1)) + 1,\n                nbr2 : Math.floor(Math.random() * (10 - 1 + 1)) + 1,\n                resultat : null,\n                error : \"\"\n            }\n        }\n    },\n    methods : {\n       \n        send(e){\n            e.preventDefault()\n            \n            // CLEAN ERROR **********\n            //**********************\n            for( let i in this.error){\n                    this.error[i] = \"\"\n            }\n            this.captcha.error = \"\"\n\n            // RECUP EL. DU DOM. *****\n            //************************\n            let nom = document.getElementById(\"nom\").value\n            let message = document.getElementById(\"message\").value\n            this.validForm = true\n            \n            // CHECK INPUT ***********\n            //************************\n            checkMessage(this)\n            checkNom(this)\n            testCaptcha(this)\n\n            // ENVOIE DU FORMULAIRE **\n            //************************\n            if (this.validForm === true){\n\n                // date\n                const dateNow = new Date\n                let option = {day : \"numeric\", month : \"long\", year : \"numeric\"}\n                let dateString = dateNow.toLocaleDateString(\"fr-FR\", option)\n\n                //objet envoyer au back\n                const obj = {\n                    nom : nom,\n                    message : message,\n                    date : dateString\n                }\n\n                fetch(`${this.$store.state.HOST}/post-livre-message`,{\n                    method : \"POST\",\n                    body: JSON.stringify(obj),\n                    headers: {\"Content-type\": \"application/json; charset=UTF-8\",}\n                })\n                .then( response => {                    \n                    this.afterSend(response, obj)\n                })\n                .catch( response => { \n                    this.afterSend(response,null)\n                })\n            }\n\n            //****************************\n            // function check formulaire\n            //****************************\n            function checkNom(data){  \n                if(!nom){\n                    data.error.nom = \"Mais... tu t'appelle comment ! \"\n                    data.validForm = false  \n                }\n            }\n            function checkMessage(data){\n                if(!message){\n                    data.error.message = \"Et tu veut envoyer un message vide ?\"\n                    data.validForm = false\n                }\n            }\n            function testCaptcha(data){\n                let result = data.captcha.nbr1 + data.captcha.nbr2\n                if (result != data.captcha.resultat){\n                    data.validForm = false\n                    data.captcha.error = \"Résoudre le captcha\"\n                }\n            }\n        },\n        closeModale(){\n            this.displayModal = false\n              // scroll vers le nouveau message\n                let cible = document.getElementById(\"merciMessage\")\n                cible.scrollIntoView({\n                    top : top,\n                    behavior : \"smooth\"\n                })\n        },\n        afterSend(response,obj){ \n\n            if (response.status === 200){\n                this.displayModal = true\n                this.modalText = \"Merci beaucoup pour votre message\"\n                // injection du nouveau message dans les datas   \n                this.tabMessage.splice(0,0,obj)  \n                // efface les valeur des input\n                document.getElementById(\"nom\").value = \"\"\n                document.getElementById(\"message\").value = \"\"  \n                this.captcha.resultat = null\n                this.captcha.nbr1 = Math.floor(Math.random() * (10 - 1 + 1)) + 1\n                this.captcha.nbr2 = Math.floor(Math.random() * (10 - 1 + 1)) + 1\n              \n            }else if (response.status != 200){\n                this.displayModal = true\n                this.modalText = \"Nous rencontrons un problème.. Veuillez réessayer !\"\n            }\n        }    \n    },\n    beforeMount(){\n\n        fetch(`${this.$store.state.HOST}/get-livre-message`)\n        .then(response => response.json())\n        .then(result => {\n            this.tabMessage = result.reverse()\n        })\n        .catch(()=> {})\n    },\n    mounted(){\n        document.title = \"Livre-d'or\"\n        console.log(this.$store.state.HOST)\n    }\n\n}\n</script>\n\n<style scoped>\n    .main{\n        display: flex;\n        flex-flow: wrap;\n        justify-content: space-evenly;\n        align-items: flex-start;\n        padding: 0 20px 50px 20px\n    }\n    .section{\n        margin: 0;\n        padding: 20px;\n        margin-top: 0;\n        border-radius: 10px;\n        width: 100%;\n        max-width: 500px;\n    }\n    .titleForm{\n        color: white;\n        font-size: calc(16px + 3vw);\n    }\n    i{\n        color:var(--color-primary);\n    }\n    .carte{\n        width: 80%;\n        max-width: 400px;\n        margin: auto;\n        transform: translateY(-50%);\n        background: var(--color-primary);\n        color: white;\n        padding: 30px;\n        text-align: center;\n        box-shadow: 10px 10px 0px 0px rgb(68, 68, 68);\n    }\n    .plaisir{\n        display: inline-block;\n        font-size: 20px;\n        padding-top: 20px;\n    }\n    form{\n        border-radius: 10px;\n        margin-top: 20px;\n        background: lightgray;\n        padding: 5px 0;\n    }\n    .titleEnvoyer{\n        background: white;\n        color: gray;\n        padding: 50px 0;\n        margin-top: -40px;\n        padding-left: 20px;\n        font-size: calc(16px + 2vw);\n        cursor: pointer;\n        transition: .3s;\n        margin-bottom: 50px;\n    }\n    .cliqueIci{\n        color: blue;\n        text-decoration: underline;\n    }\n    input{\n        border-radius: 5px;\n        border : none;\n        padding: 3px;\n    }\n   \n    textarea{\n        width: 100%;\n        padding: 20px;\n        border: none;\n        border-radius: 5px;\n    }\n  \n    h2{\n        display: inline-block;\n        position: relative;\n        padding: 0 !important;\n        padding-bottom: 5px;\n        margin-bottom: 20px;\n        font-size: 30px;\n        padding-bottom: 10px !important;\n\n    }\n    label{\n        display: block;\n    }\n    .row{\n      \n        margin: 20px;\n    }\n    #message{\n        width: 100%;\n        height: 100px;\n    }\n    .error{\n        color: red;\n    }\n    .boxMessage{\n        border-radius: 10px;\n        background: white;\n        padding: 20px; \n        width: 100%;\n        margin-top: 50px;\n        max-width: 600px;\n    }\n    .boxMessage h2{\n        display: inline-block;\n        margin: auto;\n        margin-bottom: 20px;\n    }\n    .boxMessagetitle{\n        display: flex;\n        justify-content: center;\n    }\n    .boxScroll{\n        height: 400px;\n        overflow: scroll;\n        background: lightgray;\n        border-radius: 10px;\n        width: 100%;\n        margin: auto;\n        margin-top: 10px;\n    }\n    .captcha{\n        margin-right: 10px;\n    }\n    .buttonFull{\n        font-size: 20px;\n        padding : 10px 20px\n    }\n\n    @media screen and (min-width: 900px){\n        .section{\n            width: 35%;\n            max-width: 400px;\n        }\n        .boxMessage{\n            width: 55%;\n            margin-top: 0;\n            max-width: 600px;\n        }\n    }\n</style>"]}]}