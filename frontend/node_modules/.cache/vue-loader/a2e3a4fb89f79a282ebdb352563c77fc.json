{"remainingRequest":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/src/components/pageContact/sectionFormulaireContact.vue?vue&type=style&index=0&id=40cea1f3&scoped=true&lang=css&","dependencies":[{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/src/components/pageContact/sectionFormulaireContact.vue","mtime":1635718095395},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cedric-bonvin/Documents/Monkey/site Monkey-school/monkey-school/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo6OnBsYWNlaG9sZGVyewogICAgZm9udC1zdHlsZTogaXRhbGljOwogICAgY29sb3I6IHJnYigxODQsIDE4NCwgMTg0KTsKfQouc2VjdGlvbnsKICAgIHBhZGRpbmc6IDIwcHgKfQppewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKICAgIG1hcmdpbjowOwogICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgZm9udC1zaXplOiBjYWxjKDE2cHggKyAydncpOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGNvbG9yOiByZ2IoOTcsIDk3LCA5Nyk7Cn0KLnNlY3Rpb25Gb3JtdWxhaXJlewogICAgbWFyZ2luOiBhdXRvOwogICAgbWFyZ2luLXRvcDogNnZtaW47CiAgICBtYXgtd2lkdGg6IDcwMHB4Owp9Ci50aXRsZUZvcm17CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHBhZGRpbmc6IDA7CiAgICBwYWRkaW5nLWJvdHRvbTogNXZ3Owp9CmgyewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZm9udC1zaXplOiBjYWxjKDE0cHggKyAzdncpOwp9CmgyOmJlZm9yZXsKICAgIGNvbnRlbnQ6ICIiOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYm90dG9tOiAwOwogICAgbGVmdDogMDsKICAgIGJvcmRlcjogc29saWQgMnB4IHZhcigtLWNvbG9yLXByaW1hcnkpOwogICAgd2lkdGg6IDUwJTsKfQouZm9ybXVsYWlyZXsKICAgIGJhY2tncm91bmQ6IGxpZ2h0Z3JheTsKICAgIHBhZGRpbmc6IDE1cHggIDEwcHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KLmJveElucHV0ewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZmxvdzogd3JhcDsKICAgIG1hcmdpbjogMTBweCAwOwogICAgd2lkdGg6IDEwMCU7Cn0KaW5wdXR7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlcjogbm9uZTsKICAgIHBhZGRpbmc6IDVweDsKfQoKdGV4dGFyZWF7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlcjogbm9uZTsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBsaW5lLWhlaWdodDogMS42Owp9Ci5ib3hMYWJlbEFuZElucHV0ewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZmxvdzogcm93IHdyYXA7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKfQoucmVxdWlzewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZy1sZWZ0OiAxMHB4Owp9Ci5yZXF1aXM6YWZ0ZXJ7CiAgICBjb250ZW50OiAiKiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IC01cHg7CiAgICBsZWZ0OiAwOwogICAgY29sb3I6IHJlZDsKfQouZXJyb3J7CiAgICBjb2xvcjogcmVkOwogICAgZm9udC1zaXplOiAxNHB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQouZXJyb3JGb3JtewogICAgY29sb3I6IHJlZDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5ib3hDYXB0Y2hhewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZy10b3A6IDIwcHg7CiAgICBwYWRkaW5nOiA1UFg7CiAgIAp9CgouY2FwdGNoYXsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQouaXRlbUNhcHRjaGF7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDdweDsKfQouY2FwdGNoYVJlcG9uc2V7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogNDBweDsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJvcmRlci1yYWRpdXM6IDA7CiAgICBwYWRkaW5nOiAxMHB4IDA7Cn0KLmVycm9yQ2FwdGNoYXsKICAgIHRleHQtYWxpZ246IHJpZ2h0Owp9Ci5wbHVzRWdhbCB7CiAgICBwYWRkaW5nOiAwIDVweAoKfQoKCkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDU2MHB4KSB7CiAgIGgyLCBpewogICAgICAgIGZvbnQtc2l6ZTogNDBweDsKICAgfQogICAgLmJveElucHV0ewogICAgICAgIG1heC13aWR0aDogMjMwcHg7CiAgICB9CiAgIC50aXRsZUZvcm17CiAgICAgICAgcGFkZGluZy1ib3R0b206IDMwcHg7CiAgIH0KfQo="},{"version":3,"sources":["sectionFormulaireContact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sectionFormulaireContact.vue","sourceRoot":"src/components/pageContact","sourcesContent":["<template>\n    <div>\n         \n        <loader  v-if=\"displayLoader\" />\n        \n        <div class=\"section sectionFormulaire\">\n            <!-- ------------------------------------------------\n            ------**** TITRE DU FORMULAIRE *****-----------------\n                ------------------------------------------------ -->\n            <div class=\"titleForm\">\n                <i class=\"fas fa-pencil-alt\"></i>\n                <h2>Formulaire</h2>\n            </div>\n            <!-- ------------------------------------------------\n            ------**** FORMULAIRE *****--------------------------\n                ------------------------------------------------ -->\n            <form class=\"formulaire\">\n                <div class=\"boxLabelAndInput\">\n                    <div class=\"boxInput \">\n                        <label class=\"requis\" for=\"name\"> Nom :</label>\n                        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Du-pont\" data-selection=\"true\">\n                        <p v-if=\"error.name\" class=\"error\">{{ error.name }}</p>\n                    </div>\n                    <div class=\"boxInput\">\n                        <label class=\"requis\" for=\"surname \"> Prénom :</label>\n                        <input type=\"text\" id=\"surname\" name=\"surname\" placeholder=\"Alexandre\" data-selection=\"true\">\n                        <p v-if=\"error.prenom\" class=\"error\">{{ error.prenom }}</p>\n                    </div>\n                    <div class=\"boxInput\">\n                        <label class=\"requis\" for=\"email \"> E-mail :</label>\n                        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"monMail@host.com\" data-selection=\"true\">\n                        <p v-if=\"error.mail\" class=\"error\">{{ error.mail }}</p>\n                    </div>\n                    <div class=\"boxInput\">\n                        <label for=\"phone\"> Téléphonne :</label>\n                        <input type=\"text\" id=\"phone\" name=\"phone\" placeholder=\" 0041 78 123 45 67\" data-selection=\"true\">\n                        <p v-if=\"error.phone\" class=\"error\">{{ error.phone }}</p>\n                    </div>\n                </div>\n                <div class=\"boxMessage \">\n        \n                        <label class=\"requis\" for=\"message\"> Message :</label>\n                        <textarea type=\"text\" id=\"message\" name=\"message\" rows=\"10\" placeholder=\"Votre message...\" data-selection=\"true\"> </textarea>\n                        <p v-if=\"error.message\" class=\"error\">{{ error.message }}</p>\n                </div>\n                <!-- CAPTCHA -->\n                <div class=\"boxCaptcha\">\n                    <p >Résolver l'addition :</p>\n                    <div class=\"captcha\">\n                        <span class=\" itemCaptcha captcha2\"> {{ captcha.nbr1 }} </span>\n                        <span class=\"plusEgal\"> + </span>\n                        <span class=\" itemCaptcha captcha1\"> {{ captcha.nbr2 }} </span>\n                        <span class=\"plusEgal\"> = </span>\n                        <input type=\"text\" class=\"itemCaptcha captchaReponse\"  v-model=\"captcha.resultat\">\n                    </div>\n                </div>\n                <p v-if=\"error.captcha\" class=\"error errorCaptcha\">{{ error.captcha}}</p>\n                <button @click=\"send($event)\" id=\"sendInfo\" class=\"buttonFull\" >Envoyer</button>\n            </form>      \n        </div>\n    </div>\n</template>\n    div\n<script>\n    import loader from '../forAll/loader.vue'\n    export default {\n    components: { loader },\n        name : \"section-formulaire-contact\",\n        data(){\n            return{\n                validForm : true,\n                error : {\n                    name : \"\",\n                    prenom : \"\",\n                    mail : \"\",\n                    message : \"\",\n                    captcha : \"\"\n                },\n                captcha : {\n                    nbr1 : null,\n                    nbr2 : null,\n                    resultat : null\n                },\n                displayLoader : false,\n                response : {}\n            }\n        },\n        methods : {\n            afterResponse(){\n                let succes = true\n                if (this.response.status != 200){\n                    succes = false\n                } else if (this.response.status === 200) {\n                    succes = true\n                    // clean input   \n                     let tabInput = document.querySelectorAll('[data-selection]');\n                    // for (let i = 0; i < tabInput.length; i++){\n                    //     tabInput[i].value = \"\"\n                    // }\n                        for (let i of tabInput){\n                            i.value =\"\"\n                        }\n                    this.captchaCreate()\n                }\n                this.$emit(\"listenresponse\",  succes)\n            },\n            send(e){\n                e.stopImmediatePropagation()\n                e.preventDefault()\n            \n                // CLEAN ERROR\n                for ( let i in this.error){\n                    this.error[i] = \"\"\n                }\n    \n                // RECUPERATION DES DONNES\n                let nom = document.getElementById(\"name\").value\n                let prenom = document.getElementById(\"surname\").value\n                let mail = document.getElementById(\"email\").value\n                let phone = document.getElementById(\"phone\").value\n                let message = document.getElementById(\"message\").value\n\n                // TEST  ********************\n                this.validForm = true\n                testName(nom,this)\n                testPrenom(prenom,this)\n                testMail(mail,this)\n                testMessage(message,this)\n                testCaptcha(null,this)\n                \n                // check de ValidForm\n                if (this.validForm === true){\n                    this.displayLoader = true\n                    const obj = {\n                        nom : nom,\n                        prenom : prenom,\n                        mail : mail,\n                        message : message,\n                        phone : phone,\n                    }\n                \n                        fetch(\"http://localhost:3000/postMessage\",{\n                            method: \"POST\",\n                            body: JSON.stringify(obj),\n                            headers: {\"Content-type\": \"application/json; charset=UTF-8\",}      \n                        })\n                        .then(response =>  {\n                            this.response = response\n                            this.displayLoader = false\n                            this.afterResponse()\n                        })\n                        .catch( response => {\n                            this.displayLoader = false\n                            this.response = response\n                             this.afterResponse()\n                        })\n                }\n                function testCaptcha(value,data){\n                    if( parseInt( data.captcha.resultat)  !== data.captcha.nbr1 + data.captcha.nbr2){\n                            data.error.captcha = \"résolver le captcha\"  \n                            data.validForm = false            \n                    }\n                }\n                function testMail( value, data) {\n                    if ( value.length < 2){\n                        data.error.mail =\"Votre E-mail ne semble pas être correct..!\",\n                        data.validForm = false   \n                    }\n                    if( value.length > 55){\n                        data.error.mail =\"Max. 55 caractères.\",\n                        data.validForm = false   \n                    }\n                }\n                function testPrenom(value, data) {\n                    if ( value.length < 2){\n                        data.error.prenom =\"Min. 2 caractères.\",\n                        data.validForm = false   \n                    }\n                    if( value.length > 15){\n                        data.error.prenom =\"Max. 15 caractères.\",\n                        data.validForm = false   \n                    }\n                }\n                function testName(value, data) {\n                    if ( value.length < 2){\n                        data.error.name =\"Min. 2 caractères.\",\n                        data.validForm = false   \n                    }\n                    if( value.length > 15){\n                        data.error.name =\"Max. 15 caractères.\",\n                        data.validForm = false   \n                    }\n                }\n                function testMessage(value, data) {\n                    if ( value.length < 4){\n                        data.error.message =\"Min. 4 caractères.\",\n                        data.validForm = false   \n                    }\n                    if( value.length > 1000){\n                        data.error.message =\"Max. 1000 caractères.\",\n                        data.validForm = false   \n                    }\n                }\n            },\n            captchaCreate(){\n                this.captcha.nbr1 =  Math.floor(Math.random() * (10 - 1 + 1)) + 1\n                this.captcha.nbr2 =  Math.floor(Math.random() * (10 - 1 + 1)) + 1\n                this.captcha.resultat = null\n            } \n        },\n        mounted(){\n            this.captchaCreate()\n        }\n    }\n\n</script>\n\n<style scoped>\n    ::placeholder{\n        font-style: italic;\n        color: rgb(184, 184, 184);\n    }\n    .section{\n        padding: 20px\n    }\n    i{\n        display: block !important;\n        margin:0;\n        margin-right: 20px;\n        font-size: calc(16px + 2vw);\n        text-align: left;\n        color: rgb(97, 97, 97);\n    }\n    .sectionFormulaire{\n        margin: auto;\n        margin-top: 6vmin;\n        max-width: 700px;\n    }\n    .titleForm{\n        display: flex;\n        align-items: center;\n        padding: 0;\n        padding-bottom: 5vw;\n    }\n    h2{\n        position: relative;\n        font-size: calc(14px + 3vw);\n    }\n    h2:before{\n        content: \"\";\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        border: solid 2px var(--color-primary);\n        width: 50%;\n    }\n    .formulaire{\n        background: lightgray;\n        padding: 15px  10px;\n        border-radius: 5px;\n    }\n    .boxInput{\n        display: flex;\n        flex-flow: wrap;\n        margin: 10px 0;\n        width: 100%;\n    }\n    input{\n        width: 100%;\n        border-radius: 5px;\n        border: none;\n        padding: 5px;\n    }\n   \n    textarea{\n        width: 100%;\n        border-radius: 5px;\n        border: none;\n        padding: 15px;\n        line-height: 1.6;\n    }\n    .boxLabelAndInput{\n        display: flex;\n        flex-flow: row wrap;\n        justify-content: space-between;\n        align-items: flex-start;\n    }\n    .requis{\n        position: relative;\n        padding-left: 10px;\n    }\n    .requis:after{\n        content: \"*\";\n        position: absolute;\n        top: -5px;\n        left: 0;\n        color: red;\n    }\n    .error{\n        color: red;\n        font-size: 14px;\n        text-align: left;\n    }\n    .errorForm{\n        color: red;\n        font-weight: bold;\n        text-align: center;\n    }\n    .boxCaptcha{\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding-top: 20px;\n        padding: 5PX;\n       \n    }\n   \n    .captcha{\n        display: inline-block;\n    }\n    .itemCaptcha{\n        background: white;\n        padding: 7px;\n    }\n    .captchaReponse{\n        display: inline-block;\n        width: 40px;\n        font-size: 14px;\n        text-align: center;\n        border-radius: 0;\n        padding: 10px 0;\n    }\n    .errorCaptcha{\n        text-align: right;\n    }\n    .plusEgal {\n        padding: 0 5px\n\n    }\n\n    \n    @media screen and (min-width: 560px) {\n       h2, i{\n            font-size: 40px;\n       }\n        .boxInput{\n            max-width: 230px;\n        }\n       .titleForm{\n            padding-bottom: 30px;\n       }\n    }\n</style>"]}]}